!function(){"use strict";angular.module("socket-io",[]).factory("socket",["$rootScope","io",function(a,b){var c="socket:",d=a,e=b.connect(),f={},g={},h=function(a,b,c){var d=f[a],e=k(b,c);return d||(d=f[a]=[]),d.push({callback:b,wrapper:e}),e},i=function(a,b){var c,d=f[a];if(d)for(var e=d.length-1;e>=0;e--)if(d[e].callback===b){c=d[e].wrapper,d.slice(e,1);break}return c},j=function(a){delete f[a]},k=function(b,c){var d=angular.noop;return b&&(d=function(){var d=arguments;(c||a).$apply(function(){b.apply(e,d)})}),d},l=function(a,b){return{bindTo:function(c){null!=c&&c.$on("$destroy",function(){g.removeListener(a,b)})}}};return g={on:function(a,b){return e.on(a,h(a,b)),l(a,b)},once:function(a,b){return e.once(a,h(a,b)),l(a,b)},removeListener:function(a,b){e.removeListener(a,i(a,b))},removeAllListeners:function(a){e.removeAllListeners(a),j(a)},emit:function(a,b,c){c?e.emit(a,b,k(c)):e.emit(a,b)},forward:function(a,b){a instanceof Array==!1&&(a=[a]),b||(b=d);var f={};return a.forEach(function(a){var d=c+a,g=h(a,function(a){b.$broadcast(d,a)},b),i=new l(a,g);i.bindTo(b),f[a]=i,e.on(a,g)}),f}}}]).factory("io",function(){return io})}();