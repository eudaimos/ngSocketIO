!function(){"use strict";angular.module("socket-io",[]).factory("socket",["$rootScope","io",function(a,b){var c="socket:",d=a,e=b.connect(),f={},g={},h=function(a,b){var c=f[a],d=k(b);return c||(c=f[a]=[]),c.push({callback:b,wrapper:d}),d},i=function(a,b){var c,d=f[a];if(d)for(var e=d.length-1;e>=0;e--)if(d[e].callback===b){c=d[e].wrapper,d.slice(e,1);break}return c},j=function(a){delete f[a]},k=function(b){var c=angular.noop;return b&&(c=function(){var c=arguments;a.$apply(function(){b.apply(e,c)})}),c},l=function(a,b){return{bindTo:function(c){null!=c&&c.$on("$destroy",function(){g.removeListener(a,b)})}}};return g={on:function(a,b){return e.on(a,h(a,b)),l(a,b)},once:function(a,b){return e.once(a,h(a,b)),l(a,b)},removeListener:function(a,b){e.removeListener(a,i(a,b))},removeAllListeners:function(a){e.removeAllListeners(a),j(a)},emit:function(a,b,c){c?e.emit(a,b,k(c)):e.emit(a,b)},forward:function(a,b){a instanceof Array==!1&&(a=[a]),b||(b=d),a.forEach(function(a){var d=c+a,f=k(e,function(a){b.$broadcast(d,a)});b.$on("$destroy",function(){i(a,f)}),e.on(a,f)})}}}]).factory("io",function(){return io})}();